<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chat Rooms | MindConnect</title>
  <link rel="stylesheet" href="chatroomlist.css" />
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">ðŸ’œ MindConnect</div>
    <nav class="nav" id="navMenu">
      <ul class="nav-links" id="navLinks">
        <!-- Dynamic links will load here -->
      </ul>
    </nav>
    <button class="hamburger" onclick="toggleMenu()">â˜°</button>
  </header>

  <!-- Main Section -->
  <section class="container">
    <h2>Join a Support Community</h2>
    <p>Connect with others who understand what you're going through</p>

    <div class="card-container">
      <div class="card">
        <h3>General Wellness</h3>
        <p>Overall mental health and wellness discussions</p>
        <p><strong>Topic:</strong> Wellness</p>
        <p><strong>Moderated by:</strong> Dr. Sarah Johnson</p>
        <button class="join-btn" onclick="joinRoom('General Wellness')">JOIN ROOM</button>
      </div>

      <div class="card">
        <h3>Anxiety Management</h3>
        <p>Share anxiety coping strategies and support</p>
        <p><strong>Topic:</strong> Anxiety</p>
        <p><strong>Moderated by:</strong> Dr. Sarah Johnson</p>
        <button class="join-btn" onclick="joinRoom('Anxiety Management')">JOIN ROOM</button>
      </div>

      <div class="card">
        <h3>Depression Support</h3>
        <p>Safe space for discussing depression and recovery</p>
        <p><strong>Topic:</strong> Depression</p>
        <p><strong>Moderated by:</strong> Dr. Sarah Johnson</p>
        <button class="join-btn" onclick="joinRoom('Depression Support')">JOIN ROOM</button>
      </div>
    </div>
  </section>

  <footer>
    &copy; 2025 MindConnect | Designed with ðŸ’œ by Ingabire Blessing
  </footer>

  <script>
    // --- ROLE HANDLING ---
    // In real project: this would come from login session
    const userRole = "patient"; // change to "therapist" to test

    const navLinks = document.getElementById("navLinks");
    const linksForBoth = [
      { name: "AI Assistance", href: "aiassistance.html" },
      { name: "Chat Room List", href: "chatroomlist.html" },
      { name: "Appointments", href: "appointments.html" },
    ];

    const linksForPatient = [
      { name: "Login", href: "login.html" },
      { name: "Register", href: "register.html" },
      { name: "Dashboard", href: "dashboard.html" },
      ...linksForBoth,
    ];

    const linksForTherapist = [
      { name: "Therapist Dashboard", href: "therapist-dashboard.html" },
      ...linksForBoth,
    ];

    const links = userRole === "therapist" ? linksForTherapist : linksForPatient;

    links.forEach(link => {
      const li = document.createElement("li");
      li.innerHTML = `<a href="${link.href}" ${link.href.includes("chatroomlist") ? "class='active'" : ""}>${link.name}</a>`;
      navLinks.appendChild(li);
    });

    // --- Functions ---
    function joinRoom(roomName) {
      alert(`Joining ${roomName} room...`);
    }

    function toggleMenu() {
      document.getElementById("navMenu").classList.toggle("active");
    }
  </script>
</body>
</html>
